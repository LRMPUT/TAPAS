<Robot>
	<!--
		runThread:				1 - module ON, 0 - module OFF
		processingFrequency: 	The frequency of processing in global planner thread in Hz
		debug:					1 - debug ON, 0 - debug OFF
		subgoalThreshold:			next subgoal must be further than subgoalThreshold (in meters)
		runHomologation:		1 - overrides global Planner to perform Homologation
		mapFile:				file in open street map used in navigation
		latitude:				latitude N/S
		longitude:				longitude W/E 
		 // Alternative coordinates in PP :
		 // -> latitude="52.401680" longitude="16.951594" 
		 // -> latitude="52.401306" longitude="16.951138"
		 // -> latitude="52.402357" longitude="16.952361"
		 // -> latitude="52.403535" longitude="16.949781" - NO WAY
		 // -> latitude="52.403418" longitude="16.950173"
	-->
	<GlobalPlanner runThread="1" processingFrequency="5" debug ="0" subgoalThreshold="3" runHomologation="0" mapFile="ppMap.osm" latitude="52.403535" longitude="16.949781"/>

	<!--
		runThread: 		1 - module ON, 0 - module OFF
		avoidObstacles:	        0 - run as globalPlanner wants, 1 - take into account the obstacles
		VFH_HistResolution: 	resolution of directions in VFH in degrees
		VFH_Threshold:		threshold for the direction to be considered a valid choice
		VFH_SteeringMargin:	the dead_zone of steering deciding upon going straight, left, right
	-->
	<LocalPlanner runThread="1" avoidObstacles="1" VFH_HistResolution="10" VFH_Threshold="0" VFH_SteeringMargin="4"/>

	<!--
		runThread: 				1 - module ON, 0 - module OFF
		processingFrequency:	The frequency of processing in position estimation thread in Hz
		debug:					1 - debug ON, 0 - debug OFF
		encoderTickPerRev:		number of encoder ticks per one revolution
		wheelDiameter:			wheel diameter in meters
		wheelBase:				wheel base in meters
		GPSCovariance:	
		IMUCovariance:
		EncoderCovariance:	
	-->
	<PositionEstimation runThread="1" processingFrequency="20" debug="0" encoderTicksPerRev="300" wheelDiameter="0.188" wheelBase="0.452"/>

	<!--
		Jan Wietrzykowski is lazy and does not use the comments ;d
	-->
	<MovementConstraints runThread="true">
		<odometry diam="188" base="452" encodersCPR="300" />
		<point_cloud minDist="100" maxTimePoint="4000" maxTimeMap="4000" />
		<camera_position_laser>
			0.999975467433325   0.006201805494175   0.003256092768350	19.302285337921
  		-0.006965113845532   0.831082312695594   0.556105814313842 -581.986641194198
   		0.000742778986283  -0.556114850667697   0.831105120394660	-482.975425071840
		 0 0 0 1
		</camera_position_laser>
		<imu_position_camera>
 			0.018692784122079   0.999638449057612   0.019327467176493 0
  		-0.660864075823663  -0.002152701714531   0.750502524420182 0
  		0.750272785796941  -0.026801810405667   0.660584899805829 0
			0	0	0	1
		</imu_position_camera>
		<imu_position_global>
			1	0	0	-360
			0	1	0	0
			0	0	1	-830
			0	0	0	1
		</imu_position_global>
		<Camera runThread="false" number="1" rows="480" cols="640">
			<cache enabled="true" />
			<HierClassifier>
				<cache enabled="true" />
				<segmentation k="200" min_size="200" />
				<descriptor>
					<hist_HS len_H="4" len_S="4" />
					<hist_V len="8" />
					<mean_HSV len="3" />
					<covar_HSV len="9" />
					<hist_DI len_D="1" len_I="25" />
					<mean_laser len="2" />
					<covar_laser len="4" />
					<!--kurt_laser len="2" />-->
				</descriptor>
				<!--<Classifier type="SVM">
					<cache enabled="true" />
					<svm type="C_SVC">
						<kernelType value="RBF" />
						<gamma value="5.4061" />
						<degree value="2" />
						<C value="5535.84" />
					</svm>
					<info desc_beg="0" desc_end="1" />
				</Classifier>
				<Classifier type="SVM">
					<cache enabled="true" />
					<svm type="C_SVC">
						<kernelType value="RBF" />
						<gamma value="5.4061" />
						<degree value="2" />
						<C value="5535.84" />
					</svm>
					<info desc_beg="1" desc_end="2" />
				</Classifier>
				<Classifier type="SVM">
					<cache enabled="true" />
					<svm type="C_SVC">
						<kernelType value="RBF" />
						<gamma value="5.4061" />
						<degree value="2" />
						<C value="16607.5" />
					</svm>
					<info desc_beg="2" desc_end="4" />
				</Classifier>-->
				<!--<Classifier type="SVM">
					<cache enabled="true" />
					<svm type="C_SVC">
						<kernelType value="RBF" />
						<gamma value="5.4061" />
						<degree value="2" />
						<C value="16607.5" />
					</svm>
					<info desc_beg="4" desc_end="7" />
				</Classifier>
				<Classifier type="SVM">
					<cache enabled="true" />
					<svm type="C_SVC">
						<kernelType value="RBF" />
						<gamma value="1.80203" />
						<degree value="2" />
						<C value="16607.5" />
					</svm>
					<info desc_beg="7" desc_end="8" />
				</Classifier>-->
				<Classifier type="SVM">
					<cache enabled="true" />
					<svm type="C_SVC">
						<kernelType value="RBF" />
						<gamma value="0.5" />
						<degree value="2" />
						<C value="512" />
					</svm>
					<info desc_beg="0" desc_end="7" />
				</Classifier>
			</HierClassifier>
			<learning enabled="0">
				"../MovementConstraints/Camera/database/przejazd1"
			</learning>
			<labels>
				<label text="grass" id="0"/>
				<label text="pavement" id="1"/>
			</labels>

			<imu_position_global>
				1	0	0	-360
				0	1	0	0
				0	0	1	-830
				0	0	0	1
			</imu_position_global>

			<sensor id="left">
				<imu_position_camera>
					 0.018692784122079   0.999638449057612   0.019327467176493 0
					-0.660864075823663  -0.002152701714531   0.750502524420182 0
					 0.750272785796941  -0.026801810405667   0.660584899805829	0
					0	0	0	1
				</imu_position_camera>
				<position_laser>
					0.999975467433325   0.006201805494175   0.003256092768350	19.302285337921
					-0.006965113845532   0.831082312695594   0.556105814313842 -581.986641194198
			 		0.000742778986283  -0.556114850667697   0.831105120394660	-482.975425071840
				 0 0 0 1
				</position_laser>
				<camera_matrix>
					646.345999973665580	0	312.531846659870780
        			0	645.650527914581740	244.961100510703430
        			0	0	1.0000
				</camera_matrix>
				<dist_coeffs>
					-0.002321429512793 0.042019134230480 -0.000280334014614 0.001284356067402 0.000000000000000 
				</dist_coeffs>
				<mask_ignore>
					<polygon>
						<pt>
						<x>97</x>
						<y>403</y>
						</pt>
						<pt>
						<x>67</x>
						<y>480</y>
						</pt>
						<pt>
						<x>551</x>
						<y>480</y>
						</pt>
						<pt>
						<x>522</x>
						<y>398</y>
						</pt>
						<pt>
						<x>465</x>
						<y>400</y>
						</pt>
						<pt>
						<x>460</x>
						<y>382</y>
						</pt>
						<pt>
						<x>344</x>
						<y>382</y>
						</pt>
						<pt>
						<x>337</x>
						<y>337</y>
						</pt>
						<pt>
						<x>283</x>
						<y>337</y>
						</pt>
						<pt>
						<x>279</x>
						<y>384</y>
						</pt>
						<pt>
						<x>161</x>
						<y>385</y>
						</pt>
						<pt>
						<x>154</x>
						<y>406</y>
						</pt>
					</polygon>
				</mask_ignore>
			</sensor>
		</Camera>
	</MovementConstraints>
</Robot>

